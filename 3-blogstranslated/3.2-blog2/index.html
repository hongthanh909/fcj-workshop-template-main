<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=description content><meta name=author content="HongNTSE183239@fpt.edu.vn"><link rel=icon href=https://hongthanh909.github.io/fcj-workshop-template-main/images/favicon.png type=image/png><title>Blog 2 :: Internship Report</title>
<link href=https://hongthanh909.github.io/fcj-workshop-template-main/css/nucleus.css?1765364971 rel=stylesheet><link href=https://hongthanh909.github.io/fcj-workshop-template-main/css/fontawesome-all.min.css?1765364971 rel=stylesheet><link href=https://hongthanh909.github.io/fcj-workshop-template-main/css/hybrid.css?1765364971 rel=stylesheet><link href=https://hongthanh909.github.io/fcj-workshop-template-main/css/featherlight.min.css?1765364971 rel=stylesheet><link href=https://hongthanh909.github.io/fcj-workshop-template-main/css/perfect-scrollbar.min.css?1765364971 rel=stylesheet><link href=https://hongthanh909.github.io/fcj-workshop-template-main/css/auto-complete.css?1765364971 rel=stylesheet><link href=https://hongthanh909.github.io/fcj-workshop-template-main/css/atom-one-dark-reasonable.css?1765364971 rel=stylesheet><link href=https://hongthanh909.github.io/fcj-workshop-template-main/css/theme.css?1765364971 rel=stylesheet><link href=https://hongthanh909.github.io/fcj-workshop-template-main/css/hugo-theme.css?1765364971 rel=stylesheet><link href=https://hongthanh909.github.io/fcj-workshop-template-main/css/theme-workshop.css?1765364971 rel=stylesheet><script src=https://hongthanh909.github.io/fcj-workshop-template-main/js/jquery-3.3.1.min.js?1765364971></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=https://hongthanh909.github.io/fcj-workshop-template-main/3-blogstranslated/3.2-blog2/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=https://hongthanh909.github.io/fcj-workshop-template-main/><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=https://hongthanh909.github.io/fcj-workshop-template-main/js/lunr.min.js?1765364971></script><script type=text/javascript src=https://hongthanh909.github.io/fcj-workshop-template-main/js/auto-complete.js?1765364971></script><script type=text/javascript>var baseurl="https://hongthanh909.github.io/fcj-workshop-template-main/"</script><script type=text/javascript src=https://hongthanh909.github.io/fcj-workshop-template-main/js/search.js?1765364971></script></div><div class=highlightable><ul class=topics><li data-nav-id=/1-worklog/ title=Worklog class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/1-worklog/><b>1. </b>Worklog
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/1-worklog/1.1-week1/ title="Week 1 Worklog" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/1-worklog/1.1-week1/><b>1.1. </b>Week 1 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.2-week2/ title="Week 2 Worklog" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/1-worklog/1.2-week2/><b>1.2. </b>Week 2 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.3-week3/ title="Week 3 Worklog" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/1-worklog/1.3-week3/><b>1.3. </b>Week 3 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.4-week4/ title="Week 4 Worklog" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/1-worklog/1.4-week4/><b>1.4. </b>Week 4 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.5-week5/ title="Week 5 Worklog" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/1-worklog/1.5-week5/><b>1.5. </b>Week 5 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.6-week6/ title="Week 6 Worklog" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/1-worklog/1.6-week6/><b>1.6. </b>Week 6 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.7-week7/ title="Week 7 Worklog" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/1-worklog/1.7-week7/><b>1.7. </b>Week 7 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.8-week8/ title="Week 8 Worklog" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/1-worklog/1.8-week8/><b>1.8. </b>Week 8 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.9-week9/ title="Week 9 Worklog" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/1-worklog/1.9-week9/><b>1.9. </b>Week 9 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.10-week10/ title="Week 10 Worklog" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/1-worklog/1.10-week10/><b>1.10. </b>Week 10 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.11-week11/ title="Week 11 Worklog" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/1-worklog/1.11-week11/><b>1.11. </b>Week 11 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.12-week12/ title="Week 12 Worklog" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/1-worklog/1.12-week12/><b>1.12. </b>Week 12 Worklog
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/2-proposal/ title=Proposal class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/2-proposal/><b>2. </b>Proposal
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/ title="Translated Blogs" class="dd-item
parent"><a href=https://hongthanh909.github.io/fcj-workshop-template-main/3-blogstranslated/><b>3. </b>Translated Blogs
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/3-blogstranslated/3.1-blog1/ title="Blog 1" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/3-blogstranslated/3.1-blog1/><b>3.1. </b>Blog 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/3.2-blog2/ title="Blog 2" class="dd-item
active"><a href=https://hongthanh909.github.io/fcj-workshop-template-main/3-blogstranslated/3.2-blog2/><b>3.2. </b>Blog 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/3.3-blog3/ title="Blog 3" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/3-blogstranslated/3.3-blog3/><b>3.3. </b>Blog 3
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/4-eventparticipated/ title="Events Participated" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/4-eventparticipated/><b>4. </b>Events Participated
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/4-eventparticipated/4.1-event1/ title="Event 1" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/4-eventparticipated/4.1-event1/><b>4.1. </b>Event 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-eventparticipated/4.2-event2/ title="Event 2" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/4-eventparticipated/4.2-event2/><b>4.2. </b>Event 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-eventparticipated/4.3-event3/ title="Event 3" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/4-eventparticipated/4.3-event3/><b>4.3. </b>Event 3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-eventparticipated/4.4-event4/ title="Event 4" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/4-eventparticipated/4.4-event4/><b>4.4. </b>Event 4
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/5-workshop/ title=Workshop class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/5-workshop/5.01-workshop-overview/ title="Workshop Overview" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/5-workshop/5.01-workshop-overview/><b>5.01. </b>Workshop Overview
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.02-setup-environment/ title="Setup Environment" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/5-workshop/5.02-setup-environment/><b>5.02. </b>Setup Environment
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.03-cdk-bootstrap/ title="CDK Bootstrap" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/5-workshop/5.03-cdk-bootstrap/><b>5.03. </b>CDK Bootstrap
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.04-configure-stacks/ title="Configure Infrastructure Stacks" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/5-workshop/5.04-configure-stacks/><b>5.04. </b>Configure Infrastructure Stacks
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/5-workshop/5.04-configure-stacks/5.4.1-dns-stack/ title="5.4.1 DNS Stack" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/5-workshop/5.04-configure-stacks/5.4.1-dns-stack/>5.4.1 DNS Stack
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.04-configure-stacks/5.4.2-certificate-stack/ title="5.4.2 Certificate Stack" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/5-workshop/5.04-configure-stacks/5.4.2-certificate-stack/>5.4.2 Certificate Stack
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.04-configure-stacks/5.4.3-core-stack/ title="5.4.3 Core Stack" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/5-workshop/5.04-configure-stacks/5.4.3-core-stack/>5.4.3 Core Stack
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.04-configure-stacks/5.4.4-auth-stack/ title="5.4.4 Auth Stack" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/5-workshop/5.04-configure-stacks/5.4.4-auth-stack/>5.4.4 Auth Stack
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.04-configure-stacks/5.4.5-backend-stack/ title="5.4.5 Backend Stack" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/5-workshop/5.04-configure-stacks/5.4.5-backend-stack/>5.4.5 Backend Stack
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.04-configure-stacks/5.4.6-frontend-stack/ title="5.4.6 Frontend Stack" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/5-workshop/5.04-configure-stacks/5.4.6-frontend-stack/>5.4.6 Frontend Stack
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.04-configure-stacks/5.4.7-observability-stack/ title="5.4.7 Observability Stack" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/5-workshop/5.04-configure-stacks/5.4.7-observability-stack/>5.4.7 Observability Stack
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/5-workshop/5.05-deploy-infrastructure/ title="Deploy Infrastructure" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/5-workshop/5.05-deploy-infrastructure/><b>5.05. </b>Deploy Infrastructure
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.06-configure-api-lambda/ title="Configure API & Lambda" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/5-workshop/5.06-configure-api-lambda/><b>5.06. </b>Configure API & Lambda
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.07-deploy-backend/ title="Deploy Backend Services" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/5-workshop/5.07-deploy-backend/><b>5.07. </b>Deploy Backend Services
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.08-test-endpoints/ title="Test Endpoints End-to-End" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/5-workshop/5.08-test-endpoints/><b>5.08. </b>Test Endpoints End-to-End
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.09-push-gitlab/ title="Push to GitLab" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/5-workshop/5.09-push-gitlab/><b>5.09. </b>Push to GitLab
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.10-deploy-amplify/ title="Deploy to Amplify" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/5-workshop/5.10-deploy-amplify/><b>5.10. </b>Deploy to Amplify
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.11-cleanup/ title=Cleanup class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/5-workshop/5.11-cleanup/><b>5.11. </b>Cleanup
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/6-self-evaluation/ title=Self-Assessment class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/6-self-evaluation/><b>6. </b>Self-Assessment
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/7-feedback/ title="Sharing and Feedback" class=dd-item><a href=https://hongthanh909.github.io/fcj-workshop-template-main/7-feedback/><b>7. </b>Sharing and Feedback
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://hongthanh909.github.io/fcj-workshop-template-main/3-blogstranslated/3.2-blog2/ selected>English</option><option id=vi value=https://hongthanh909.github.io/fcj-workshop-template-main/vi/3-blogstranslated/3.2-blog2/>Tieng Viet</option></select><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=https://hongthanh909.github.io/fcj-workshop-template-main/>Internship Report</a> > <a href=https://hongthanh909.github.io/fcj-workshop-template-main/3-blogstranslated/>Translated Blogs</a> > Blog 2</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#solution-overview>Solution Overview</a></li><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#step-by-step-guide>Step-by-Step Guide</a></li><li><a href=#part-a-deploy-trino-with-s3-tables-integration>Part A: Deploy Trino with S3 Tables Integration</a><ul><li><a href=#1-cloudformation-template-overview>1. CloudFormation Template Overview</a></li><li><a href=#2-deployment-process>2. Deployment Process</a></li><li><a href=#3-what-the-deployment-does>3. What the Deployment Does</a></li></ul></li><li><a href=#part-b-connecting-trino-to-amazon-s3-tables-using-the-iceberg-rest-endpoint>Part B: Connecting Trino to Amazon S3 Tables Using the Iceberg REST Endpoint</a><ul><li><a href=#1-catalog-configuration-details>1. Catalog Configuration Details</a></li><li><a href=#2-s3-tables-iceberg-rest-endpoint-configuration-properties>2. S3 Tables Iceberg REST Endpoint Configuration Properties</a></li></ul></li><li><a href=#3-working-with-s3-tables-in-trino>3. Working with S3 Tables in Trino</a><ul><li><a href=#31-connecting-to-trino>3.1. Connecting to Trino</a></li><li><a href=#32-example-creating-and-querying-a-table>3.2. Example: Creating and Querying a Table</a></li><li><a href=#create-table-as-select-ctas>Create Table As Select (CTAS)</a></li><li><a href=#altering-a-table>Altering a Table</a></li></ul></li><li><a href=#34-advanced-iceberg-features>3.4. Advanced Iceberg Features</a><ul><li><a href=#341-querying-table-metadata>3.4.1. Querying Table Metadata</a></li><li><a href=#342-time-travel>3.4.2. Time Travel</a></li><li><a href=#343-viewing-history-and-rolling-back>3.4.3. Viewing History and Rolling Back</a></li></ul></li><li><a href=#cleanup>Cleanup</a></li><li><a href=#conclusion>Conclusion</a><ul><li><a href=#about-the-authors>About the Authors</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Blog 2</h1><h1 id=querying-amazon-s3-tables-from-open-source-trino-using-the-apache-iceberg-rest-endpoint>Querying Amazon S3 Tables from Open-Source Trino Using the Apache Iceberg REST Endpoint</h1><p>Authors: Aneesh Chandra PN, Aritra Gupta, Ananta Khanal, and Madhu Nagaraj</p><p>Publication date: June 13, 2025</p><p>Source: Advanced (300), Amazon EC2, Amazon S3 Tables, Amazon Simple Storage Service (S3), Amazon VPC, AWS CLI, AWS CloudFormation, AWS Identity and Access Management (IAM), Technical How-to</p><hr><p>Organizations are increasingly focused on tackling the growing challenge of managing and analyzing massive volumes of data, while ensuring their data teams have timely access to that data so they can quickly generate insights and make decisions. Analysts and data scientists need self-service analytics capabilities to build and maintain data products, which often involve complex transformations and frequent updates. However, this creates significant operational overhead—from managing small files and delete markers, to handling ever-expanding metadata and rising storage costs for historical versions. If left unaddressed, these challenges can hurt query performance and increase infrastructure costs.</p><p>Modern data architectures have evolved to address these challenges using powerful open-source technologies such as <strong>Trino</strong> and <strong>Apache Iceberg</strong> , combined with managed services like <strong>Amazon S3 Tables</strong> . Trino excels at distributed querying across a wide variety of data sources, while Apache Iceberg provides a robust table format with ACID transactions, schema evolution, and time travel. S3 Tables complement this stack by providing automatic optimization and maintenance for Iceberg tables, delivering consistent performance without manual intervention.</p><p>In this post, we show how to integrate Trino with S3 Tables to create a powerful analytics platform that combines the best of both technologies. We walk through the setup process using the S3 Tables table-management APIs that are compatible with the Apache Iceberg REST catalog standard, illustrating how to configure the integration with Trino and enable key benefits such as automatic data compaction and snapshot management. By the end of the post, you’ll see how to use this powerful combination to build and maintain high-performance data products at scale.</p><p>This post focuses on configuration for the S3 Tables Iceberg REST endpoint. You can also use S3 Tables with the AWS Glue Iceberg REST endpoint. For unified governance across all tabular data, fine-grained access control, and centralized data management, we recommend using <strong>Amazon SageMaker Lakehouse</strong> , which supports S3 Tables as a linked catalog.</p><hr><h2 id=solution-overview>Solution Overview</h2><p>The S3 Tables Iceberg REST endpoint provides a standards-based API that allows Trino to communicate directly with S3 Tables without any proprietary connector or additional middleware. This means your Trino deployments can immediately take advantage of the built-in S3 Tables optimizations for Iceberg workloads.</p><p>This guide will show you how to:</p><ul><li>Deploy a single-node Trino environment using an <strong>AWS CloudFormation</strong> template</li><li>Configure the Iceberg REST connector to communicate with S3 Tables</li><li>Create schemas and tables directly in S3 Tables from Trino</li><li>Perform full-fidelity Iceberg read/write operations</li><li>Use advanced features such as time travel and schema evolution</li></ul><p><strong>Deployment architecture:</strong> Although Trino is typically deployed as a multi-node distributed architecture for production workloads to leverage parallel processing, this post uses a single <strong>Amazon Elastic Compute Cloud (Amazon EC2)</strong> instance so that you can quickly explore the S3 Tables–Trino integration. The Iceberg catalog configuration will be the same when you deploy on your own Trino cluster for production use cases.</p><hr><h2 id=prerequisites>Prerequisites</h2><p>You need the following to complete this solution:</p><ul><li>An AWS account with permissions to create resources such as EC2 instances, AWS Identity and Access Management (IAM) roles, and S3 table buckets</li><li>An Amazon Virtual Private Cloud (Amazon VPC) with a public subnet (or a private subnet with VPN access)</li><li>An Amazon EC2 key pair for SSH access</li><li>The AWS Command Line Interface (AWS CLI) installed and configured (optional, used for manually creating the S3 table bucket)</li></ul><hr><h2 id=step-by-step-guide>Step-by-Step Guide</h2><p>The following sections walk you through deploying this solution.</p><hr><h2 id=part-a-deploy-trino-with-s3-tables-integration>Part A: Deploy Trino with S3 Tables Integration</h2><p>This section provides step-by-step instructions for launching a Trino environment using the supplied CloudFormation template. It also describes the resources required to build this solution. To simplify integration between Trino and S3 Tables, we’ve created a CloudFormation template that automates the entire deployment process.</p><h3 id=1-cloudformation-template-overview>1. CloudFormation Template Overview</h3><p>The CloudFormation template provisions all the components required for a complete Trino environment that can read and write data to S3 Tables through the Iceberg REST endpoint:</p><ul><li><strong>S3 table bucket:</strong> Creates a dedicated bucket to store your data</li><li><strong>EC2 instance:</strong> Deploys a single-node Trino server using version 475</li><li><strong>Security group:</strong> Configures network access for SSH and the Trino web UI</li><li><strong>IAM instance profile:</strong> Grants the EC2 instance the appropriate permissions</li></ul><h3 id=2-deployment-process>2. Deployment Process</h3><ol><li>Download the CloudFormation template.</li><li>In the CloudFormation console, choose <strong>Create stack > With new resources (standard)</strong> as shown in the screenshot.</li><li>Upload the template file and choose <strong>Next</strong> .</li><li>Provide values for the template parameters:<ul><li><strong>Stack name:</strong> A name for your CloudFormation stack</li><li><strong>KeyName:</strong> An existing EC2 key pair for SSH access</li><li><strong>VpcId:</strong> The VPC in which to deploy the EC2 instance</li><li><strong>SubnetId:</strong> A public subnet in your VPC</li><li><strong>S3TablesBucketName:</strong> A name for your S3 table bucket</li><li><strong>AwsRegion:</strong> The AWS Region for S3 Tables and AWS Glue</li><li><strong>TrinoInstanceType:</strong> EC2 instance size (default: <code>t3.xlarge</code>)</li></ul></li><li>Choose <strong>Next</strong> on the stack options page.</li><li>Review the details, confirm that CloudFormation can create IAM resources, and then choose <strong>Create stack</strong> .</li><li>Wait for stack creation to complete (about 10–15 minutes).</li></ol><p>When the stack is complete, you can find useful information in the <strong>Outputs</strong> tab:</p><ul><li><strong>PublicDNS:</strong> The public DNS name of your Trino instance</li><li><strong>SSHCommand:</strong> The SSH command you can use to connect to the instance</li><li><strong>TrinoURL:</strong> The URL for the Trino web UI</li><li><strong>TableBucketName:</strong> The name of your S3 table bucket</li></ul><h3 id=3-what-the-deployment-does>3. What the Deployment Does</h3><p>The CloudFormation template performs several key tasks:</p><ul><li><strong>Infrastructure provisioning:</strong> Sets up the EC2 instance, security group, and S3 table bucket</li><li><strong>Software installation:</strong> Installs Amazon Corretto Java 23 and Trino 475</li><li><strong>Configuration:</strong> Creates the required Trino configuration files</li><li><strong>Integration setup:</strong> Configures the Iceberg REST connector for S3 Tables</li></ul><hr><h2 id=part-b-connecting-trino-to-amazon-s3-tables-using-the-iceberg-rest-endpoint>Part B: Connecting Trino to Amazon S3 Tables Using the Iceberg REST Endpoint</h2><p>The CloudFormation template automatically configures the S3 Tables catalog in Trino. In this section, we’ll look at the configuration that enables this integration.</p><h3 id=1-catalog-configuration-details>1. Catalog Configuration Details</h3><p>A catalog in Trino is a configuration that allows access to a specific data source. A single Trino cluster can be configured with multiple catalogs, providing simultaneous access to different data sources.</p><p>In this setup, the CloudFormation template creates a catalog properties file at:</p><p><code>/home/ec2-user/trino-server-475/etc/catalog/s3tables_irc.properties</code></p><p>with the following configuration:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span><span style=color:#a6e22e>connector.name</span><span style=color:#f92672>=</span><span style=color:#e6db74>iceberg</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>iceberg.catalog.type</span><span style=color:#f92672>=</span><span style=color:#e6db74>rest</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>iceberg.rest-catalog.uri</span><span style=color:#f92672>=</span><span style=color:#e6db74>https://s3tables.${AwsRegion}.amazonaws.com/iceberg</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>iceberg.rest-catalog.warehouse</span><span style=color:#f92672>=</span><span style=color:#e6db74>arn:aws:s3tables:${AwsRegion}:${AWS::AccountId}:bucket/${S3TablesBucketName}</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>iceberg.rest-catalog.sigv4-enabled</span><span style=color:#f92672>=</span><span style=color:#e6db74>true</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>iceberg.rest-catalog.signing-name</span><span style=color:#f92672>=</span><span style=color:#e6db74>s3tables</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>iceberg.rest-catalog.view-endpoints-enabled</span><span style=color:#f92672>=</span><span style=color:#e6db74>false</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>fs.hadoop.enabled</span><span style=color:#f92672>=</span><span style=color:#e6db74>false</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>fs.native-s3.enabled</span><span style=color:#f92672>=</span><span style=color:#e6db74>true</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>s3.iam-role</span><span style=color:#f92672>=</span><span style=color:#e6db74>&lt;ARN of the IAM ROLE with permissions to S3 Tables&gt;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>s3.region</span><span style=color:#f92672>=</span><span style=color:#e6db74>${AwsRegion}</span>
</span></span></code></pre></div><h3 id=2-s3-tables-iceberg-rest-endpoint-configuration-properties>2. S3 Tables Iceberg REST Endpoint Configuration Properties</h3><p>The table below lists the key properties in the Trino catalog configuration:</p><table><thead><tr><th style=text-align:left>Property</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left><code>iceberg.rest-catalog.uri</code></td><td style=text-align:left>REST server API endpoint URI (<strong>required</strong> ) —<code>https://s3tables.${AwsRegion}.amazonaws.com/iceberg</code></td></tr><tr><td style=text-align:left><code>iceberg.rest-catalog.warehouse</code></td><td style=text-align:left>Warehouse identifier/location for the catalog (<strong>required</strong> ). For S3 Tables, this is the ARN of the S3 table bucket, as shown in the example above.</td></tr><tr><td style=text-align:left><code>iceberg.rest-catalog.sigv4-enabled</code></td><td style=text-align:left>Must be set to <code>true</code>( <strong>required</strong> )</td></tr><tr><td style=text-align:left><code>iceberg.rest-catalog.signing-name</code></td><td style=text-align:left>Must be set to <code>s3tables</code>( <strong>required</strong> )</td></tr><tr><td style=text-align:left><code>iceberg.rest-catalog.view-endpoints-enabled</code></td><td style=text-align:left>Must be set to <code>false</code>( <strong>required</strong> )</td></tr><tr><td style=text-align:left><code>fs.hadoop.enabled</code></td><td style=text-align:left>Must be set to <code>false</code></td></tr><tr><td style=text-align:left><code>fs.native-s3.enabled</code></td><td style=text-align:left>Must be set to <code>true</code></td></tr><tr><td style=text-align:left><code>s3.iam-role</code></td><td style=text-align:left>Amazon Resource Name (ARN) of the IAM role with permissions to S3 Tables. In this post, we use the same role attached to the EC2 instance.</td></tr><tr><td style=text-align:left><code>s3.region</code></td><td style=text-align:left>AWS Region, for example <code>us-east-1</code></td></tr></tbody></table><p>This configuration establishes the connection between Trino and the S3 Tables REST endpoint. You can register multiple catalogs, each mapped to a different S3 table bucket, identified by the <code>iceberg.rest-catalog.warehouse</code> property.</p><hr><h2 id=3-working-with-s3-tables-in-trino>3. Working with S3 Tables in Trino</h2><p>After you’ve set up and configured Trino to work with S3 Tables, you can start exploring the integration.</p><h3 id=31-connecting-to-trino>3.1. Connecting to Trino</h3><ol><li><p>Add your desired IP or subnet to the inbound rules of the Trino security group to allow SSH access (port 22).</p></li><li><p>Connect to the EC2 instance using the SSH command provided in the CloudFormation stack outputs:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh -i your-key.pem ec2-user@your-instance-public-dns
</span></span></code></pre></div></li><li><p>Once connected, use the Trino CLI, which the CloudFormation template installed automatically:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /home/ec2-user
</span></span><span style=display:flex><span>./trino-cli --catalog s3tables_irc
</span></span></code></pre></div><p>This command connects you to the Trino server using the S3 Tables catalog configuration you set up.</p></li></ol><h3 id=32-example-creating-and-querying-a-table>3.2. Example: Creating and Querying a Table</h3><p>In this section, you’ll run a few example queries to demonstrate how the system works.</p><h4 id=321-create-a-namespace>3.2.1. Create a Namespace</h4><p>First, create a namespace (schema) in S3 Tables. A namespace in S3 Tables is a logical container or organizational unit that groups related tables and objects.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>SCHEMA</span> blog_namespace;
</span></span><span style=display:flex><span>USE blog_namespace;
</span></span></code></pre></div><h4 id=322-create-a-table>3.2.2. Create a Table</h4><p>Create a table with a variety of data types. You don’t need to specify the table type as Iceberg because you’re connecting to an Iceberg catalog. You can use all standard Iceberg capabilities such as partitioning and sorting.</p><p>In addition, several important Iceberg table properties that support table maintenance operations are configured with default values. You can also modify these settings using the <strong>S3 Tables maintenance APIs</strong> .</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#66d9ef>IF</span> <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>EXISTS</span> customers (
</span></span><span style=display:flex><span>  customer_sk INT,
</span></span><span style=display:flex><span>  customer_id VARCHAR,
</span></span><span style=display:flex><span>  salutation VARCHAR,
</span></span><span style=display:flex><span>  first_name VARCHAR,
</span></span><span style=display:flex><span>  last_name VARCHAR,
</span></span><span style=display:flex><span>  preferred_cust_flag VARCHAR,
</span></span><span style=display:flex><span>  birth_day INT,
</span></span><span style=display:flex><span>  birth_month INT,
</span></span><span style=display:flex><span>  birth_year INT,
</span></span><span style=display:flex><span>  birth_country VARCHAR,
</span></span><span style=display:flex><span>  login VARCHAR
</span></span><span style=display:flex><span>) <span style=color:#66d9ef>WITH</span> (
</span></span><span style=display:flex><span>  format <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;PARQUET&#39;</span>,
</span></span><span style=display:flex><span>  sorted_by <span style=color:#f92672>=</span> ARRAY[<span style=color:#e6db74>&#39;customer_id&#39;</span>]
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> TABLES;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>DESCRIBE</span> customers;
</span></span></code></pre></div><h4 id=333-insert-data>3.3.3. Insert Data</h4><p>You can insert some sample data into the table. You can also use an existing table in any catalog already configured in Trino and populate an S3 Table using an <code>INSERT INTO .. SELECT</code> statement.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> customers
</span></span><span style=display:flex><span><span style=color:#66d9ef>VALUES</span>
</span></span><span style=display:flex><span>    (<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;AAAAA&#39;</span>, <span style=color:#e6db74>&#39;Mrs&#39;</span>, <span style=color:#e6db74>&#39;Amanda&#39;</span>,     <span style=color:#e6db74>&#39;Olson&#39;</span>,  <span style=color:#e6db74>&#39;Y&#39;</span>, <span style=color:#ae81ff>8</span>,  <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>1984</span>, <span style=color:#e6db74>&#39;US&#39;</span>, <span style=color:#e6db74>&#39;aolson&#39;</span> ),
</span></span><span style=display:flex><span>    (<span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#39;AAAAB&#39;</span>, <span style=color:#e6db74>&#39;Mr&#39;</span>,  <span style=color:#e6db74>&#39;Leonard&#39;</span>,    <span style=color:#e6db74>&#39;Eads&#39;</span>,   <span style=color:#e6db74>&#39;N&#39;</span>, <span style=color:#ae81ff>22</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>2001</span>, <span style=color:#e6db74>&#39;US&#39;</span>, <span style=color:#e6db74>&#39;leads&#39;</span> ),
</span></span><span style=display:flex><span>    (<span style=color:#ae81ff>3</span>, <span style=color:#e6db74>&#39;BAAAA&#39;</span>, <span style=color:#e6db74>&#39;Mr&#39;</span>,  <span style=color:#e6db74>&#39;David&#39;</span>,      <span style=color:#e6db74>&#39;White&#39;</span>,  <span style=color:#e6db74>&#39;Y&#39;</span>, <span style=color:#ae81ff>16</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1999</span>, <span style=color:#e6db74>&#39;US&#39;</span>, <span style=color:#e6db74>&#39;dwhite&#39;</span> ),
</span></span><span style=display:flex><span>    (<span style=color:#ae81ff>4</span>, <span style=color:#e6db74>&#39;BBAAA&#39;</span>, <span style=color:#e6db74>&#39;Mr&#39;</span>,  <span style=color:#e6db74>&#39;Melvin&#39;</span>,     <span style=color:#e6db74>&#39;Lee&#39;</span>,    <span style=color:#e6db74>&#39;N&#39;</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>1973</span>, <span style=color:#e6db74>&#39;US&#39;</span>, <span style=color:#e6db74>&#39;mlee&#39;</span> ),
</span></span><span style=display:flex><span>    (<span style=color:#ae81ff>5</span>, <span style=color:#e6db74>&#39;AACAA&#39;</span>, <span style=color:#e6db74>&#39;Mr&#39;</span>,  <span style=color:#e6db74>&#39;Donald&#39;</span>,     <span style=color:#e6db74>&#39;Holt&#39;</span>,   <span style=color:#e6db74>&#39;N&#39;</span>, <span style=color:#ae81ff>2</span>,  <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>1982</span>, <span style=color:#e6db74>&#39;CA&#39;</span>, <span style=color:#e6db74>&#39;dholt&#39;</span>),
</span></span><span style=display:flex><span>    (<span style=color:#ae81ff>6</span>, <span style=color:#e6db74>&#39;ABAAA&#39;</span>, <span style=color:#e6db74>&#39;Mrs&#39;</span>, <span style=color:#e6db74>&#39;Jacqueline&#39;</span>, <span style=color:#e6db74>&#39;Harvey&#39;</span>, <span style=color:#e6db74>&#39;N&#39;</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>1988</span>, <span style=color:#e6db74>&#39;US&#39;</span>, <span style=color:#e6db74>&#39;jharvey&#39;</span>),
</span></span><span style=display:flex><span>    (<span style=color:#ae81ff>7</span>, <span style=color:#e6db74>&#39;BBAAA&#39;</span>, <span style=color:#e6db74>&#39;Ms&#39;</span>,  <span style=color:#e6db74>&#39;Debbie&#39;</span>,     <span style=color:#e6db74>&#39;Ward&#39;</span>,   <span style=color:#e6db74>&#39;N&#39;</span>, <span style=color:#ae81ff>6</span>,  <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2006</span>, <span style=color:#e6db74>&#39;MX&#39;</span>, <span style=color:#e6db74>&#39;dward&#39;</span>),
</span></span><span style=display:flex><span>    (<span style=color:#ae81ff>8</span>, <span style=color:#e6db74>&#39;ACAAA&#39;</span>, <span style=color:#e6db74>&#39;Mr&#39;</span>,  <span style=color:#e6db74>&#39;Tim&#39;</span>,        <span style=color:#e6db74>&#39;Strong&#39;</span>, <span style=color:#e6db74>&#39;N&#39;</span>, <span style=color:#ae81ff>15</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>1976</span>, <span style=color:#e6db74>&#39;US&#39;</span>, <span style=color:#e6db74>&#39;tstrong&#39;</span>
</span></span><span style=display:flex><span>);
</span></span></code></pre></div><h4 id=334-query-the-data>3.3.4. Query the Data</h4><p>You can query the data you just inserted with:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> customers <span style=color:#66d9ef>LIMIT</span> <span style=color:#ae81ff>10</span>;
</span></span></code></pre></div><hr><h3 id=create-table-as-select-ctas>Create Table As Select (CTAS)</h3><p>Trino also supports creating a table from the result of a query. In this example, you create a copy of the previous table:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> trino_customers
</span></span><span style=display:flex><span><span style=color:#66d9ef>WITH</span> (
</span></span><span style=display:flex><span>  format <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;PARQUET&#39;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> customers;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> trino_customers <span style=color:#66d9ef>LIMIT</span> <span style=color:#ae81ff>10</span>;
</span></span></code></pre></div><hr><h3 id=altering-a-table>Altering a Table</h3><p>One of the benefits of using Iceberg is <strong>schema evolution</strong> . You can add a new column and then populate it. Each transaction from Trino (such as an <code>ALTER</code> DDL statement) creates a new Iceberg table snapshot.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> trino_customers <span style=color:#66d9ef>ADD</span> <span style=color:#66d9ef>COLUMN</span> updated_at <span style=color:#66d9ef>TIMESTAMP</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>DESCRIBE</span> trino_customers;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>UPDATE</span> trino_customers <span style=color:#66d9ef>SET</span> updated_at <span style=color:#f92672>=</span> <span style=color:#66d9ef>current_timestamp</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> trino_customers <span style=color:#66d9ef>LIMIT</span> <span style=color:#ae81ff>10</span>;
</span></span></code></pre></div><hr><h2 id=34-advanced-iceberg-features>3.4. Advanced Iceberg Features</h2><p>Trino provides access to Iceberg’s metadata, allowing you to inspect information about the objects stored in S3 Tables. This makes it easier to understand how data is organized and what’s associated with each table transaction.</p><h3 id=341-querying-table-metadata>3.4.1. Querying Table Metadata</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#75715e>-- View snapshot information
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> <span style=color:#e6db74>&#34;trino_customers$snapshots&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- View data file information
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> <span style=color:#e6db74>&#34;trino_customers$files&#34;</span>;
</span></span></code></pre></div><h3 id=342-time-travel>3.4.2. Time Travel</h3><p><strong>Time travel</strong> is a powerful feature of the Apache Iceberg table format that lets you query data as of a specific point in the past. This is especially useful for analytics, auditing, and reproducing historical results.</p><p>Trino supports time travel using the <code>FOR VERSION AS OF</code> syntax, where you can provide a snapshot ID or a timestamp, as shown below:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#75715e>-- Time travel using a snapshot ID (replace &lt;snapshot ID&gt; with an actual ID from the snapshots query above)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> trino_customers <span style=color:#66d9ef>FOR</span> <span style=color:#66d9ef>VERSION</span> <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>OF</span> <span style=color:#f92672>&lt;</span>snapshot ID<span style=color:#f92672>&gt;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- Time travel using a timestamp
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> trino_customers <span style=color:#66d9ef>FOR</span> <span style=color:#66d9ef>TIMESTAMP</span> <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>OF</span> <span style=color:#66d9ef>TIMESTAMP</span> <span style=color:#e6db74>&#39;2025-03-13 08:00:00.000 UTC&#39;</span>;
</span></span></code></pre></div><h3 id=343-viewing-history-and-rolling-back>3.4.3. Viewing History and Rolling Back</h3><p>Iceberg’s <strong>history and rollback</strong> features provide powerful data-versioning capabilities. You can view the full history of operations on a table and easily revert to a previous state using a timestamp or snapshot ID, which helps ensure data recovery and auditing in your data lake.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#75715e>-- Delete a record
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>DELETE</span> <span style=color:#66d9ef>FROM</span> trino_customers <span style=color:#66d9ef>WHERE</span> customer_sk <span style=color:#f92672>=</span> <span style=color:#ae81ff>8</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- View the table history
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> <span style=color:#e6db74>&#34;trino_customers$history&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- Roll back to a previous snapshot (replace &lt;snapshot ID&gt; with the ID from before the delete)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> trino_customers <span style=color:#66d9ef>EXECUTE</span> rollback_to_snapshot(<span style=color:#f92672>&lt;</span>snapshot ID<span style=color:#f92672>&gt;</span>);
</span></span></code></pre></div><p>Now for the fun part—we’ve run several transactions with the example queries above and seen how Iceberg creates a snapshot for each transaction (or table operation). In real-world scenarios, you may need to update data frequently, or continuously load small batches of data into a table every few seconds or minutes. These operations often create many small files, which can degrade performance, cause duplicated data across multiple snapshots, and leave behind expired data (older versions of records that have been updated or deleted).</p><p>S3 Tables provide maintenance operations such as <strong>data compaction</strong> , <strong>snapshot management</strong> , and <strong>orphan-file cleanup</strong> to keep tables optimized and reduce storage costs by removing unnecessary files. These options are enabled by default for all tables with preconfigured properties, and you can also customize them at the individual table level based on your requirements. You can learn more about S3 Tables maintenance in the documentation.</p><hr><h2 id=cleanup>Cleanup</h2><p>To clean up resources, complete the following steps:</p><ol><li><strong>Delete data and tables</strong> (you can do this directly from the Trino CLI, avoiding the need for the AWS CLI).</li><li>In the AWS console, go to <strong>CloudFormation</strong> and delete the stack you created.</li></ol><hr><h2 id=conclusion>Conclusion</h2><p>In this post, we demonstrated seamless integration between Trino and Amazon S3 Tables using the Iceberg REST endpoint. This powerful combination lets you use Trino’s distributed query engine to perform interactive analytics on data stored in S3 Tables, while benefiting from Iceberg features such as transactional support, schema evolution, and time travel—along with the built-in Iceberg optimizations provided by S3 Tables.</p><p>This solution delivers a flexible, high-performance platform for modern data analytics on AWS. By automating deployment with CloudFormation and leveraging the standard Iceberg REST interface, you can quickly set up this integration and start extracting value from your data. Whether you’re building a new data platform or extending an existing system, the combination of Trino and S3 Tables offers a solid foundation for analytical workloads at scale.</p><p>To learn more, see:</p><ul><li>The guides for using S3, Trino, and the Apache Iceberg usage and configuration documentation</li><li>Additional S3 Tables posts on the AWS Storage Blog</li></ul><p><strong>Keywords:</strong> Amazon Elastic Compute Cloud (Amazon EC2), Amazon Simple Storage Service (Amazon S3), Amazon VPC, AWS Cloud Storage, AWS CloudFormation, AWS Command Line Interface (AWS CLI), AWS Identity and Access Management (IAM)</p><hr><h3 id=about-the-authors>About the Authors</h3><p><strong>Aneesh Chandra PN</strong></p><p>Aneesh Chandra PN is a Principal Analytics Solutions Architect at AWS working with Strategic customers. He is passionate about leveraging technology advancements to solve customers’ data challenges. He uses his deep expertise in analytics, distributed systems, and open-source frameworks to act as a trusted technical advisor to AWS customers.</p><p><strong>Aritra Gupta</strong></p><p>Aritra Gupta is a Senior Technical Product Manager on the Amazon S3 team at AWS. He helps customers build and scale multi-Region architectures on Amazon S3. Based in Seattle, he enjoys playing chess and badminton in his free time.</p><p><strong>Ananta Khanal</strong></p><p>Ananta Khanal is a Senior Solutions Architect at AWS focused on data and cloud-computing solutions. He has worked in IT for more than 15 years and has held various roles across different companies. He is passionate about cloud technologies, infrastructure management, IT strategy, and data management.</p><p><strong>Madhu Nagaraj</strong></p><p>Madhu is a Senior Technical Account Manager (TAM) at Amazon Web Services (AWS) with more than 20 years of experience in IT, including software engineering, cloud operations, and automation. Since joining AWS in 2021, he has been passionate about helping enterprise customers navigate and adopt emerging technologies. He currently focuses on helping customers innovate with Generative AI and AI Agents, combining strong technical capabilities with cost optimization and operational efficiency. Outside of work, Madhu enjoys spending time with his family and hiking.</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=https://hongthanh909.github.io/fcj-workshop-template-main/3-blogstranslated/3.1-blog1/ title="Blog 1"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=https://hongthanh909.github.io/fcj-workshop-template-main/3-blogstranslated/3.3-blog3/ title="Blog 3" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=https://hongthanh909.github.io/fcj-workshop-template-main/js/clipboard.min.js?1765364971></script><script src=https://hongthanh909.github.io/fcj-workshop-template-main/js/perfect-scrollbar.min.js?1765364971></script><script src=https://hongthanh909.github.io/fcj-workshop-template-main/js/perfect-scrollbar.jquery.min.js?1765364971></script><script src=https://hongthanh909.github.io/fcj-workshop-template-main/js/jquery.sticky.js?1765364971></script><script src=https://hongthanh909.github.io/fcj-workshop-template-main/js/featherlight.min.js?1765364971></script><script src=https://hongthanh909.github.io/fcj-workshop-template-main/js/highlight.pack.js?1765364971></script><script>hljs.initHighlightingOnLoad()</script><script src=https://hongthanh909.github.io/fcj-workshop-template-main/js/modernizr.custom-3.6.0.js?1765364971></script><script src=https://hongthanh909.github.io/fcj-workshop-template-main/js/learn.js?1765364971></script><script src=https://hongthanh909.github.io/fcj-workshop-template-main/js/hugo-learn.js?1765364971></script><link href=https://hongthanh909.github.io/fcj-workshop-template-main/mermaid/mermaid.css?1765364971 rel=stylesheet><script src=https://hongthanh909.github.io/fcj-workshop-template-main/mermaid/mermaid.js?1765364971></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>